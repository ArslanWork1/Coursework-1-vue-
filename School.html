<!DOCTYPE html>
<html lang="en">
<head>
    <title>School Lessons</title> <!----Website Title------>
    <script src="https://unpkg.com/vue"></script> <!------Vue.js link------>
    <script src="Lessons.js"></script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/axios/0.16.2/axios.js"></script>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"
        integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous"> 
        <!-- css link-->
        
    <meta charset="UTF-8">
</head>


<body>
    <div class="container"> 
    </div>

   <!---Lesson 1 code --> 
   
<div id="Lesson1"> 
    
    <header>
        
    <div class="navbar navbar-default">
        <div class="navbar-header">
            <h1 v-text="sitename"></h1>
            <ul>
                <li>Home</li>
                <li>Socials</li>
                <li> about</li>
              </ul>
              
              <!--shopping cart-->
              <button @click='showCheckout'>  {{this.cart.length}}
                <span class="fas fa-cart-plus"></span> Checkout 
      
            </button>
        </header>

        <div>

              <div class="row"> <!--Grid class-->
                <div class="col-md-500 col-md-offset-1">
     <!--This lets me connect with my image vue-->
      <img v-bind:src="product.image" alt="Maths logo "> 

      <div class="col-md-6 col-md-offset-0 description">
        <div v-if= 'showProduct'>

         <div v-for='lessons in lessons'> </div>


        
        
      <h1 v-text="product.title"></h1> <!-----Product Name------->
      <p v-text="product.location"></p><!-----Product Location------->
      <p v-text="product.price"><!-----Product Price------->
      <p v-text="product.spaces + product.spaceNumber"></p><!--Product space -->
      <!--add ot cart buttom-->
      <button v-on:click="addToCart(product)" v-show='canAddtoCart(product)'>Add To Cart</button>
      

      <span v-if='product.spaceNumber === cartCount (lessons.id)'> All out!
      </span>
      
      <span v-else-if ='product.spaceNumber- cartCount (lessons.id) < 3'> 
          Only {{product.spaceNumber- cartCount (lessons.id)}} left 
      </span>

      <span v-else>Buy now!</span>


         
      </span>



        </div>
<div v-else> 
    <h2>Checkout</h2>
<p>  
    <strong> First Name </strong>
    <input v-model="order.firstName" />
</p>
<p> 
    <strong> Phone Number</strong>
    <input  v-model.number="order.phoneNumber" type="number"/>
</p>
<h2> Order information</h2>
<p>First Name: {{order.firstName}}</p>
<p>Phone number: {{order.phoneNumber}}</p>


<button @click= 'submitform'> Submit Order </button>
</div>







<!--vue start javascript code-->
<script type="text/javascript">
 let webstore = new Vue({
    el: '#Lesson1',
    data: {
            sitename: "The School",

           lessons:Lessons,


            cart:[],
            showProduct: true, 
            order: {
                firstName: '', 
                phoneNumber: '', 
            }
                
            
    },

           methods: {
            addToCart: function (lessons) {
                this.cart.push(product.id);
                },

                addToCart1: function () {
                if (this.product.spaceNumber > 0) 
                    this.product.spaceNumber -= 1; 
                },



                showCheckout () {
                this.showProduct = this.showProduct ? false :true; 
                },

             submitform (){
                 alert('Order Confirmed thank you')

             },  
             canAddtoCart (product) {
                return product.spaceNumber > this.cartCount(lessons.id);

             }, 

             cartCount(id) {
                 let count=0;
                 for (let i=0; i < this.cart.length; i++) {
                    if (this.cart[i] ===id) count++;
                 }
                 return count; 
             }


             
 

            },   
            computed:{
                cartItemCount: function () {
                    return this.cart.length || '';
                },
                canAddtoCart:function (){
                return this.product.spaceNumber> this.cartItemCount;


                } 
            }
            


 });


let webstore2 = new Vue({
    el: '#Lesson2',





})

</script> 

    
</body>
</html>
